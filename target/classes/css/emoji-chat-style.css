/* 聊天中表情显示的CSS样式 */

/* TextFlow内容样式 */
.content-flow {
    -fx-line-spacing: 2px;
}

/* 聊天文本样式 */
.chat-text {
    -fx-font-size: 14px;
    -fx-font-family: "Segoe UI", "Microsoft YaHei", "Arial", sans-serif;
    -fx-fill: #dcddde;
}

/* 聊天中的表情图片样式 */
.chat-emoji {
    -fx-smooth: true;
    -fx-cache: true;
    -fx-preserve-ratio: true;
}

/* 表情加载失败时的回退文本样式 */
.emoji-fallback {
    -fx-font-size: 14px;
    -fx-font-family: "Consolas", "Monaco", "Courier New", monospace;
    -fx-fill: #7289da;
    -fx-font-weight: bold;
}

/* 发送消息中的表情样式 */
.sent-message .chat-text {
    -fx-fill: #ffffff;
}

.sent-message .emoji-fallback {
    -fx-fill: #b3d9ff;
}

/* 接收消息中的表情样式 */
.received-message .chat-text {
    -fx-fill: #dcddde;
}

.received-message .emoji-fallback {
    -fx-fill: #7289da;
}

/* 系统消息中的表情样式 */
.system-message .chat-text {
    -fx-fill: #72767d;
    -fx-font-style: italic;
}

.system-message .emoji-fallback {
    -fx-fill: #99aab5;
}

/* 表情在不同主题下的适配 */
.dark-theme .chat-text {
    -fx-fill: #dcddde;
}

.light-theme .chat-text {
    -fx-fill: #2c2f33;
}

/* 表情悬停效果（如果需要） */
.chat-emoji:hover {
    -fx-scale-x: 1.1;
    -fx-scale-y: 1.1;
    -fx-effect: dropshadow(gaussian, rgba(255,255,255,0.3), 3, 0, 0, 0);
}

/* 确保表情与文本对齐 */
.content-flow .chat-emoji {
    -fx-translate-y: -2px; /* 微调垂直对齐 */
}

/* 表情密集时的间距调整 */
.content-flow {
    -fx-text-alignment: left;
}

/* 长消息中的表情换行处理 */
.content-flow .text {
    -fx-text-alignment: left;
}

/* 表情按钮在输入框中的样式 */
.message-input .chat-emoji {
    -fx-fit-width: 16px;
    -fx-fit-height: 16px;
}

/* 私聊窗口中的表情样式 */
.private-chat .chat-emoji {
    -fx-fit-width: 18px;
    -fx-fit-height: 18px;
}

/* 群聊窗口中的表情样式 */
.group-chat .chat-emoji {
    -fx-fit-width: 20px;
    -fx-fit-height: 20px;
}

/* 表情选择器预览中的表情样式 */
.emoji-preview .chat-emoji {
    -fx-fit-width: 24px;
    -fx-fit-height: 24px;
}

/* 高DPI显示器优化 */
@media (-fx-scale-x: 1.5) {
    .chat-emoji {
        -fx-smooth: true;
        -fx-cache-hint: quality;
    }
}

@media (-fx-scale-x: 2.0) {
    .chat-emoji {
        -fx-smooth: true;
        -fx-cache-hint: quality;
    }
}

/* 无障碍支持 */
.chat-emoji {
    -fx-focus-traversable: false;
}

/* 确保表情不会被选中 */
.chat-emoji {
    -fx-mouse-transparent: false;
}

/* 表情加载动画 */
.chat-emoji.loading {
    -fx-opacity: 0.5;
    -fx-effect: innershadow(gaussian, rgba(255,255,255,0.5), 2, 0, 0, 0);
}

/* 表情加载完成 */
.chat-emoji.loaded {
    -fx-opacity: 1.0;
    -fx-effect: null;
}

/* 错误状态的表情 */
.chat-emoji.error {
    -fx-opacity: 0.3;
    -fx-effect: innershadow(gaussian, rgba(255,0,0,0.5), 2, 0, 0, 0);
}

/* 表情工具提示 */
.emoji-tooltip {
    -fx-background-color: #18191c;
    -fx-text-fill: #dcddde;
    -fx-font-size: 11px;
    -fx-background-radius: 3;
    -fx-border-radius: 3;
    -fx-padding: 3 6 3 6;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.4), 5, 0, 0, 1);
}

/* 表情统计信息 */
.emoji-stats {
    -fx-font-size: 10px;
    -fx-text-fill: #72767d;
    -fx-font-family: "Segoe UI", "Arial", sans-serif;
}

/* 表情搜索高亮 */
.emoji-highlight {
    -fx-effect: dropshadow(gaussian, rgba(114,137,218,0.8), 5, 0, 0, 0);
}

/* 最近使用的表情标记 */
.recent-emoji-marker {
    -fx-effect: dropshadow(gaussian, rgba(255,215,0,0.6), 3, 0, 0, 0);
}

/* 表情动画效果 */
.emoji-bounce {
    -fx-scale-x: 1.2;
    -fx-scale-y: 1.2;
    -fx-transition: -fx-scale-x 0.2s ease, -fx-scale-y 0.2s ease;
}

/* 表情淡入效果 */
.emoji-fade-in {
    -fx-opacity: 0;
    -fx-transition: -fx-opacity 0.3s ease;
}

.emoji-fade-in.visible {
    -fx-opacity: 1;
}
